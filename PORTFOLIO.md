# 個人開発

## 麻雀スコア管理アプリの開発

**使用技術**
- フロントエンド: HTML, CSS, Bootstrap 5, HTMX
- バックエンド: Django, Python
- インフラ: Render, SQLite

**GitHub**: `https://github.com/[ユーザー名]/mahjong_app`（※GitHubリポジトリのURLを記載してください）

**デモサイト**: `https://your-app-name.onrender.com`（※実際のデプロイURLを記載してください）

**期間**: 2024年X月〜X月（約Xヵ月）

---

## プロジェクトの目的

麻雀の半荘ごとのスコアとチップを記録・管理するWebアプリケーションを開発。4人で行う麻雀の対戦結果をリアルタイムで共有し、自動計算機能により正確な収支を管理できるようにするため。DjangoのMVT設計、データベース連携、トランザクション管理、HTMXによる非同期通信といったWebアプリケーション開発の実践的なスキルを習得することを目的とした。

### 解決した課題

- 手動でのスコア計算ミスによる収支の不一致
- 複数人でのスコア共有の煩雑さ
- 複雑な麻雀ルール（ウマ・オカ・チップ）の計算負担
- デバイスを問わずアクセスできる環境の必要性

### ターゲットユーザー

- 定期的に麻雀を行う4人グループ
- 正確な収支管理を重視するプレイヤー
- スマートフォンやタブレットからもアクセスしたいユーザー

---

## 主な実装・工夫した点

### 保守性を考慮した設計

拡張性と将来の保守性を高めるため、データモデルを「Room（部屋）」「Player（プレイヤー）」「Game（半荘）」「ScoreRecord（スコア記録）」の4つのモデルに分離し、適切なリレーションシップを設計した。また、ビジネスロジック（麻雀のスコア計算）をモデルのプロパティメソッドに集約し、ビュー関数をシンプルに保つことで、コードの可読性と保守性を向上させた。

### 正確なスコア計算ロジックの実装

麻雀の複雑なスコア計算（素点、ウマ、オカ、チップ換算）を自動化するため、Djangoのモデルプロパティとビュー関数内で計算ロジックを実装。サシウマ設定からウマを自動計算するプロパティメソッドを実装し、設定変更に対応できる柔軟な設計とした。また、トランザクション管理（`transaction.atomic()`）により、スコア記録時のデータ整合性を保証し、エラー発生時はロールバックする仕組みを実装した。

### UX（ユーザー体験）を意識した機能

HTMXを活用した非同期通信により、ゲーム履歴と累計成績を3分ごとに自動更新する機能を実装。ページリロードなしで最新情報を表示することで、複数人で同時に使用する際の利便性を向上させた。また、Bootstrap 5によるレスポンシブデザインを採用し、スマートフォンやタブレットでも快適に使用できるUIを実現。入力バリデーション機能により、不正な値の入力を防ぎ、エラーメッセージを分かりやすく表示することで、ユーザーが迷わず操作できるよう配慮した。

---

## 開発プロセス

### 開発手法

- **アジャイル開発**: 機能を段階的に実装し、継続的に改善
- **テスト駆動開発**: 重要な機能についてはテストを先に作成
- **バージョン管理**: Git/GitHubを使用したコード管理

### 使用ツール

- **開発環境**: VS Code, Python仮想環境
- **デプロイ**: Render（自動デプロイ）
- **データベース**: SQLite（開発・本番共通）

### テスト戦略

- Djangoのテストフレームワークを使用
- モデルのプロパティメソッドのテスト
- ビュー関数の統合テスト

---

## 技術的な学び

- **DjangoのMVTアーキテクチャ**: 責務の分離の重要性と、保守性の高いコード設計
- **トランザクション管理**: データ整合性を保つための実装方法
- **HTMX**: 軽量な非同期通信の実装と、サーバーサイドレンダリングとの組み合わせ
- **レスポンシブデザイン**: モバイルファーストの設計思想

---

## 今後の展望

- **認証機能**: ユーザー登録・ログイン機能の追加
- **API**: RESTful APIの提供によるモバイルアプリ対応
- **リアルタイム通信**: WebSocketによるより高速な更新
- **統計機能**: より詳細な統計分析機能の追加
- **データベース**: ユーザー数増加時のPostgreSQLへの移行

---

## 関連リンク

- [README](README.md) - アプリケーションの詳細と技術スタック
- [アーキテクチャドキュメント](ARCHITECTURE.md) - 詳細な設計思想と実装
